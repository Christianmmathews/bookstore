{"ast":null,"code":"var _jsxFileName = \"/Users/MLenda000/Sites/school/bookstore/bookstore/src/components/LogonForm/LogonForm.js\",\n  _s = $RefreshSig$();\nimport classNames from \"classnames\";\nimport { useState, useEffect } from \"react\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../../config/fireBaseConfig\";\nimport { useNavigate } from \"react-router-dom\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"../../config/fireBaseConfig\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LogonForm = props => {\n  _s();\n  const {\n    signOn,\n    setSignOn,\n    setVerified,\n    employee,\n    setEmployee\n  } = props;\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [users, setUsers] = useState();\n  const onLogin = e => {\n    e.preventDefault();\n    signInWithEmailAndPassword(auth, email, password).then(userCredential => {\n      // Signed in\n      setVerified(true);\n      if (employee === (users === null || users === void 0 ? void 0 : users.employee)) {\n        setEmployee(true);\n      }\n      setTimeout(() => {\n        navigate(\"/\");\n      }, 1000);\n      setSignOn(!signOn);\n    }).catch(error => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      console.log(errorCode, errorMessage);\n    });\n  };\n  const fetchPost = async () => {\n    await getDocs(collection(db, \"users\")).then(querySnapshot => {\n      const newData = querySnapshot.docs.map(doc => ({\n        ...doc.data()\n\n        // id: doc.id,\n      }));\n      setUsers(newData[0]);\n    });\n  };\n  useEffect(() => {\n    fetchPost();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classNames({\n      \"hide-logon\": !signOn\n    }),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container-sign-on\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"logon-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"email\",\n          type: \"email\",\n          placeholder: \"E-mail\",\n          name: \"email\",\n          required: true,\n          autoComplete: \"on\",\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"password\",\n          type: \"password\",\n          placeholder: \"Password\",\n          name: \"password\",\n          required: true,\n          autoComplete: \"on\",\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onLogin,\n          className: \"signup-button\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(LogonForm, \"dY+T5rJ7ljg0T/F8d/JMurgApLc=\", false, function () {\n  return [useNavigate];\n});\n_c = LogonForm;\nexport default LogonForm;\nvar _c;\n$RefreshReg$(_c, \"LogonForm\");","map":{"version":3,"names":["classNames","useState","useEffect","signInWithEmailAndPassword","auth","useNavigate","collection","getDocs","db","jsxDEV","_jsxDEV","LogonForm","props","_s","signOn","setSignOn","setVerified","employee","setEmployee","navigate","email","setEmail","password","setPassword","users","setUsers","onLogin","e","preventDefault","then","userCredential","setTimeout","catch","error","errorCode","code","errorMessage","message","console","log","fetchPost","querySnapshot","newData","docs","map","doc","data","className","children","id","type","placeholder","name","required","autoComplete","onChange","target","value","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/MLenda000/Sites/school/bookstore/bookstore/src/components/LogonForm/LogonForm.js"],"sourcesContent":["import classNames from \"classnames\";\nimport { useState, useEffect } from \"react\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../../config/fireBaseConfig\";\nimport { useNavigate } from \"react-router-dom\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"../../config/fireBaseConfig\";\n\nconst LogonForm = (props) => {\n  const { signOn, setSignOn, setVerified, employee, setEmployee} = props;\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [users, setUsers] = useState();\n\n  const onLogin = (e) => {\n    e.preventDefault();\n    signInWithEmailAndPassword(auth, email, password)\n      .then((userCredential) => {\n        // Signed in\n        setVerified(true);\n        if (employee === users?.employee) {\n          setEmployee(true);\n        }\n        setTimeout(() => {\n          navigate(\"/\");\n        }, 1000);\n        setSignOn(!signOn);\n      })\n      .catch((error) => {\n        const errorCode = error.code;\n        const errorMessage = error.message;\n        console.log(errorCode, errorMessage);\n      });\n  };\n\n  const fetchPost = async () => {\n    await getDocs(collection(db, \"users\")).then((querySnapshot) => {\n      const newData = querySnapshot.docs.map((doc) => ({\n        ...doc.data()\n        \n        // id: doc.id,\n      }));\n      setUsers(newData[0]);\n    });\n  };\n\n  useEffect(() => {\n    fetchPost();\n  }, []);\n  return (\n    <div className={classNames({ \"hide-logon\": !signOn })}>\n      <div className=\"form-container-sign-on\">\n        <form className=\"logon-form\">\n          <input\n            id=\"email\"\n            type=\"email\"\n            placeholder=\"E-mail\"\n            name=\"email\"\n            required\n            autoComplete=\"on\"\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          <input\n            id=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            required\n            autoComplete=\"on\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          <button onClick={onLogin} className=\"signup-button\">\n            Login\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\nexport default LogonForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}